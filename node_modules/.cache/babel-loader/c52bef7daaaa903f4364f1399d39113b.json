{"ast":null,"code":"var _jsxFileName = \"/home/denner/Documentos/WebDevelopment/trybe-projects/project-frontend-online-store/sd-07-project-frontend-online-store/src/components/ReviewList.js\";\nimport React, { Component } from 'react';\nimport ReviewForm from '../components/ReviewForm';\nimport reviews from '../services/reviews';\nimport { addReviewInLocalStorage, recoveryReviewsFromLocalStorage } from '../services/reviewsFunctions';\n\nclass ReviewList extends Component {\n  constructor(props) {\n    super(props);\n    this.onClick = this.onClick.bind(this);\n    this.state = {\n      reviewsObj: []\n    };\n  }\n\n  componentDidMount() {\n    const oldList = recoveryReviewsFromLocalStorage();\n    this.setState({\n      reviewsObj: oldList\n    });\n  }\n\n  async onClick(reviewData) {\n    // const oldList = recoveryReviewsFromLocalStorage();\n    // this.setState({\n    //   reviewsObj: oldList,\n    // })\n    // console.log(oldList);    \n    // const currentReviews = this.state.reviewsObj;\n    // console.log(currentReviews);\n    // const nextId = currentReviews[currentReviews.length - 1].id + 1;\n    // console.log(nextId);\n    // const newReview = { ...reviewData, id: nextId };   \n    // console.log(newReview) \n    this.setState(previousState => (({\n      reviewsObj: [...previousState.reviewsObj, reviewData]\n    }), () => {\n      addReviewInLocalStorage(this.state.reviewsObj);\n      console.log(recoveryReviewsFromLocalStorage());\n      const newReviewsList = this.state.reviewsObj;\n      console.log(newReviewsList);\n    })); // const newReviewsList = this.state.reviewsObj\n    // console.log(newReviewsList);\n    // addReviewInLocalStorage(newReviewList);    \n  }\n\n  render() {\n    const {\n      reviewsObj\n    } = this.state;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(ReviewForm, {\n      onClick: this.onClick,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }\n    }, reviewsObj.map(({\n      email,\n      rating,\n      comments,\n      id\n    }) => /*#__PURE__*/React.createElement(\"div\", {\n      key: id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 15\n      }\n    }, email), /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 15\n      }\n    }, rating), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 15\n      }\n    }, comments)))));\n  }\n\n}\n\nexport default ReviewList;","map":{"version":3,"sources":["/home/denner/Documentos/WebDevelopment/trybe-projects/project-frontend-online-store/sd-07-project-frontend-online-store/src/components/ReviewList.js"],"names":["React","Component","ReviewForm","reviews","addReviewInLocalStorage","recoveryReviewsFromLocalStorage","ReviewList","constructor","props","onClick","bind","state","reviewsObj","componentDidMount","oldList","setState","reviewData","previousState","console","log","newReviewsList","render","map","email","rating","comments","id"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,UAAP,MAAuB,0BAAvB;AACA,OAAOC,OAAP,MAAoB,qBAApB;AACA,SACEC,uBADF,EAEEC,+BAFF,QAGO,8BAHP;;AAKA,MAAMC,UAAN,SAAyBL,SAAzB,CAAmC;AACjCM,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;AAEA,SAAKC,OAAL,GAAe,KAAKA,OAAL,CAAaC,IAAb,CAAkB,IAAlB,CAAf;AAEA,SAAKC,KAAL,GAAa;AACXC,MAAAA,UAAU,EAAE;AADD,KAAb;AAGD;;AAEDC,EAAAA,iBAAiB,GAAG;AAClB,UAAMC,OAAO,GAAGT,+BAA+B,EAA/C;AACA,SAAKU,QAAL,CAAc;AACZH,MAAAA,UAAU,EAAEE;AADA,KAAd;AAGD;;AAED,QAAML,OAAN,CAAcO,UAAd,EAA0B;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAKD,QAAL,CAAeE,aAAD,KAAoB;AAChCL,MAAAA,UAAU,EAAE,CAAC,GAAGK,aAAa,CAACL,UAAlB,EAA8BI,UAA9B;AADoB,QAE/B,MAAM;AACPZ,MAAAA,uBAAuB,CAAC,KAAKO,KAAL,CAAWC,UAAZ,CAAvB;AACAM,MAAAA,OAAO,CAACC,GAAR,CAAYd,+BAA+B,EAA3C;AACA,YAAMe,cAAc,GAAG,KAAKT,KAAL,CAAWC,UAAlC;AACAM,MAAAA,OAAO,CAACC,GAAR,CAAYC,cAAZ;AACD,KAPa,CAAd,EAZwB,CAoBxB;AACA;AACA;AACD;;AAEDC,EAAAA,MAAM,GAAG;AACP,UAAM;AAAET,MAAAA;AAAF,QAAiB,KAAKD,KAA5B;AAEA,wBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,UAAD;AAAY,MAAA,OAAO,EAAE,KAAKF,OAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACGG,UAAU,CAACU,GAAX,CAAe,CAAC;AAACC,MAAAA,KAAD;AAAQC,MAAAA,MAAR;AAAgBC,MAAAA,QAAhB;AAA0BC,MAAAA;AAA1B,KAAD,kBACd;AAAK,MAAA,GAAG,EAAEA,EAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAOH,KAAP,CADF,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAOC,MAAP,CAFF,eAGE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAIC,QAAJ,CAHF,CADD,CADH,CAFF,CADF;AAcD;;AA5DgC;;AA+DnC,eAAenB,UAAf","sourcesContent":["import React, { Component } from 'react';\nimport ReviewForm from '../components/ReviewForm';\nimport reviews from '../services/reviews';\nimport {\n  addReviewInLocalStorage,\n  recoveryReviewsFromLocalStorage,\n} from '../services/reviewsFunctions';\n\nclass ReviewList extends Component {\n  constructor(props) {\n    super(props);\n\n    this.onClick = this.onClick.bind(this);\n\n    this.state = {\n      reviewsObj: [],\n    };\n  }\n\n  componentDidMount() {\n    const oldList = recoveryReviewsFromLocalStorage();\n    this.setState({\n      reviewsObj: oldList,\n    });\n  }\n\n  async onClick(reviewData) {\n    // const oldList = recoveryReviewsFromLocalStorage();\n    // this.setState({\n    //   reviewsObj: oldList,\n    // })\n    // console.log(oldList);    \n    // const currentReviews = this.state.reviewsObj;\n    // console.log(currentReviews);\n    // const nextId = currentReviews[currentReviews.length - 1].id + 1;\n    // console.log(nextId);\n    // const newReview = { ...reviewData, id: nextId };   \n    // console.log(newReview) \n    this.setState((previousState) => ({\n      reviewsObj: [...previousState.reviewsObj, reviewData],\n    }, () => {\n      addReviewInLocalStorage(this.state.reviewsObj);\n      console.log(recoveryReviewsFromLocalStorage());\n      const newReviewsList = this.state.reviewsObj;\n      console.log(newReviewsList);\n    }));\n    // const newReviewsList = this.state.reviewsObj\n    // console.log(newReviewsList);\n    // addReviewInLocalStorage(newReviewList);    \n  }\n\n  render() {  \n    const { reviewsObj } = this.state;\n\n    return (      \n      <div>\n        <ReviewForm onClick={this.onClick} />\n        <div>\n          {reviewsObj.map(({email, rating, comments, id}) =>\n            <div key={id}>\n              <span>{email}</span>\n              <span>{rating}</span>\n              <p>{comments}</p>\n            </div>\n          )}\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default ReviewList;"]},"metadata":{},"sourceType":"module"}