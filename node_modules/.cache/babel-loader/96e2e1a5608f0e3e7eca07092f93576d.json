{"ast":null,"code":"import _toConsumableArray from\"/home/denner/Documentos/WebDevelopment/trybe-projects/project-frontend-online-store/sd-07-project-frontend-online-store/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _classCallCheck from\"/home/denner/Documentos/WebDevelopment/trybe-projects/project-frontend-online-store/sd-07-project-frontend-online-store/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/denner/Documentos/WebDevelopment/trybe-projects/project-frontend-online-store/sd-07-project-frontend-online-store/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/home/denner/Documentos/WebDevelopment/trybe-projects/project-frontend-online-store/sd-07-project-frontend-online-store/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/home/denner/Documentos/WebDevelopment/trybe-projects/project-frontend-online-store/sd-07-project-frontend-online-store/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/denner/Documentos/WebDevelopment/trybe-projects/project-frontend-online-store/sd-07-project-frontend-online-store/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import GoToShoppingCart from'../components/GoToShoppingCart';// import * as api from '../services/api';\n// import Loading from '../components/Loading';\nimport ReviewList from'../components/ReviewList';import AddSpecificProduct from'../components/AddSpecificProduct';import{addProductInLocalStorage,recoveryProductsFromLocalStorage}from'../services/cartFunctions';import{recoveryReviewsFromLocalStorage}from'../services/reviewsFunctions';import Footer from'../components/Footer';var ProductDetails=/*#__PURE__*/function(_Component){_inherits(ProductDetails,_Component);var _super=_createSuper(ProductDetails);function ProductDetails(props){var _this;_classCallCheck(this,ProductDetails);_this=_super.call(this,props);_this.addShoppingCartItems=_this.addShoppingCartItems.bind(_assertThisInitialized(_this));_this.addItem=_this.addItem.bind(_assertThisInitialized(_this));_this.removeItem=_this.removeItem.bind(_assertThisInitialized(_this));_this.state={// loading: true,\nproduct:props.location.product,shoppingCartItems:[],quantity:1};return _this;}_createClass(ProductDetails,[{key:\"componentDidMount\",value:function componentDidMount(){// this.APIquery();\nrecoveryReviewsFromLocalStorage();}},{key:\"addItem\",value:function addItem(){var quantity=this.state.quantity;this.setState({quantity:quantity+1});}},{key:\"removeItem\",value:function removeItem(){var quantity=this.state.quantity;if(quantity<1){this.setState({quantity:0});}else{this.setState({quantity:quantity-1});}}},{key:\"addShoppingCartItems\",value:function addShoppingCartItems(){var _this2=this;var oldList=recoveryProductsFromLocalStorage();this.setState({shoppingCartItems:oldList});var product=this.state.product;this.setState(function(previousState){return{shoppingCartItems:[].concat(_toConsumableArray(previousState.shoppingCartItems),[product])};},function(){var shoppingCartItems=_this2.state.shoppingCartItems;addProductInLocalStorage(shoppingCartItems);});}},{key:\"render\",value:function render(){var quantity=this.state.quantity;var location=this.props.location;var _location$product=location.product,title=_location$product.title,price=_location$product.price,thumbnail=_location$product.thumbnail,attributes=_location$product.attributes;// if (loading === true) return <Loading />;\nreturn/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(GoToShoppingCart,null),/*#__PURE__*/React.createElement(\"div\",{className:\"product-detail\"},/*#__PURE__*/React.createElement(\"div\",{className:\"container-title-image\"},/*#__PURE__*/React.createElement(\"h2\",{\"data-testid\":\"product-detail-name\"},title,' '),/*#__PURE__*/React.createElement(\"h2\",null,\"R$\",price),/*#__PURE__*/React.createElement(\"img\",{className:\"product-detail-image\"// src={ pictures[0].url }\n,src:thumbnail,alt:\"imagem do produto \".concat(title)})),/*#__PURE__*/React.createElement(\"ul\",{className:\"container-list\"},attributes.map(function(_ref){var name=_ref.name,valueName=_ref.value_name,id=_ref.id;return/*#__PURE__*/React.createElement(\"li\",{key:id},name,\":\",' ',valueName);}))),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"button\",{type:\"button\",onClick:this.addItem},' ',\"+\",' '),/*#__PURE__*/React.createElement(\"div\",null,quantity),/*#__PURE__*/React.createElement(\"button\",{type:\"button\",onClick:this.removeItem},' ',\"-\",' ')),/*#__PURE__*/React.createElement(AddSpecificProduct,{addShoppingCartItems:this.addShoppingCartItems}),/*#__PURE__*/React.createElement(ReviewList,null),/*#__PURE__*/React.createElement(Footer,null));}}]);return ProductDetails;}(Component);export default ProductDetails;","map":{"version":3,"sources":["/home/denner/Documentos/WebDevelopment/trybe-projects/project-frontend-online-store/sd-07-project-frontend-online-store/src/pages/ProductDetails.js"],"names":["React","Component","GoToShoppingCart","ReviewList","AddSpecificProduct","addProductInLocalStorage","recoveryProductsFromLocalStorage","recoveryReviewsFromLocalStorage","Footer","ProductDetails","props","addShoppingCartItems","bind","addItem","removeItem","state","product","location","shoppingCartItems","quantity","setState","oldList","previousState","title","price","thumbnail","attributes","map","name","valueName","value_name","id"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport PropTypes, { object } from 'prop-types';\nimport GoToShoppingCart from '../components/GoToShoppingCart';\n// import * as api from '../services/api';\n// import Loading from '../components/Loading';\nimport ReviewList from '../components/ReviewList';\nimport AddSpecificProduct from '../components/AddSpecificProduct';\nimport {\n  addProductInLocalStorage,\n  recoveryProductsFromLocalStorage,\n} from '../services/cartFunctions';\nimport {\n  recoveryReviewsFromLocalStorage,\n} from '../services/reviewsFunctions';\nimport Footer from '../components/Footer';\n\nclass ProductDetails extends Component {\n  constructor(props) {\n    super(props);\n\n    this.addShoppingCartItems = this.addShoppingCartItems.bind(this);\n    this.addItem = this.addItem.bind(this);\n    this.removeItem = this.removeItem.bind(this);\n\n    this.state = {\n      // loading: true,\n      product: props.location.product,\n      shoppingCartItems: [],\n      quantity: 1,\n    };\n  }\n\n  componentDidMount() {\n    // this.APIquery();\n    recoveryReviewsFromLocalStorage();\n  }\n\n  addItem() {\n    const { quantity } = this.state;\n    this.setState({ quantity: quantity + 1 });\n  }\n\n  removeItem() {\n    const { quantity } = this.state;\n    if (quantity < 1) {\n      this.setState({ quantity: 0 });\n    } else {\n      this.setState({ quantity: quantity - 1 });\n    }\n  }\n\n  addShoppingCartItems() {\n    const oldList = recoveryProductsFromLocalStorage();\n    this.setState({\n      shoppingCartItems: oldList,\n    });\n\n    const { product } = this.state;\n\n    this.setState((previousState) => ({\n      shoppingCartItems: [...previousState.shoppingCartItems, product],\n    }), () => {\n      const { shoppingCartItems } = this.state;\n      addProductInLocalStorage(shoppingCartItems);\n    });\n  }\n\n  render() {\n    const { quantity } = this.state;\n    const { location } = this.props;\n    const { title, price, thumbnail, attributes } = location.product;\n\n    // if (loading === true) return <Loading />;\n\n    return (\n      <div>\n        <GoToShoppingCart />\n        <div className=\"product-detail\">\n          <div className=\"container-title-image\">\n            <h2 data-testid=\"product-detail-name\">\n              {title}\n              {' '}\n            </h2>\n            <h2>\n              R$\n              {price}\n            </h2>\n            <img\n              className=\"product-detail-image\"\n              // src={ pictures[0].url }\n              src={ thumbnail }\n              alt={ `imagem do produto ${title}` }\n            />\n          </div>\n          <ul className=\"container-list\">\n            {attributes.map(({ name, value_name: valueName, id }) => (\n              <li key={ id }>\n                {name}\n                :\n                {' '}\n                { valueName }\n              </li>))}\n          </ul>\n        </div>\n        <div>\n          <button\n            type=\"button\"\n            onClick={ this.addItem }\n          >\n            {' '}\n            +\n            {' '}\n          </button>\n          <div>{quantity}</div>\n          <button\n            type=\"button\"\n            onClick={ this.removeItem }\n          >\n            {' '}\n            -\n            {' '}\n          </button>\n        </div>\n        <AddSpecificProduct addShoppingCartItems={ this.addShoppingCartItems } />\n        <ReviewList />\n        <Footer />\n      </div>\n    );\n  }\n}\n\nProductDetails.propTypes = { location: PropTypes.shape({\n  product: PropTypes.shape({\n    price: PropTypes.number.isRequired,\n    thumbnail: PropTypes.string.isRequired,\n    title: PropTypes.string.isRequired,\n    attributes: PropTypes.arrayOf(object).isRequired,\n  }).isRequired,\n}).isRequired,\n};\n\nexport default ProductDetails;\n"]},"metadata":{},"sourceType":"module"}