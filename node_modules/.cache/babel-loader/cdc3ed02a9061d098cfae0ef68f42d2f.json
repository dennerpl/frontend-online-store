{"ast":null,"code":"import _regeneratorRuntime from\"/home/denner/Documentos/WebDevelopment/trybe-projects/project-frontend-online-store/sd-07-project-frontend-online-store/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _toConsumableArray from\"/home/denner/Documentos/WebDevelopment/trybe-projects/project-frontend-online-store/sd-07-project-frontend-online-store/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _asyncToGenerator from\"/home/denner/Documentos/WebDevelopment/trybe-projects/project-frontend-online-store/sd-07-project-frontend-online-store/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/home/denner/Documentos/WebDevelopment/trybe-projects/project-frontend-online-store/sd-07-project-frontend-online-store/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/denner/Documentos/WebDevelopment/trybe-projects/project-frontend-online-store/sd-07-project-frontend-online-store/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/home/denner/Documentos/WebDevelopment/trybe-projects/project-frontend-online-store/sd-07-project-frontend-online-store/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/home/denner/Documentos/WebDevelopment/trybe-projects/project-frontend-online-store/sd-07-project-frontend-online-store/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/denner/Documentos/WebDevelopment/trybe-projects/project-frontend-online-store/sd-07-project-frontend-online-store/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import ReviewForm from'./ReviewForm';// import reviews from '../services/reviews';\nimport{addReviewInLocalStorage,recoveryReviewsFromLocalStorage}from'../services/reviewsFunctions';var ReviewList=/*#__PURE__*/function(_Component){_inherits(ReviewList,_Component);var _super=_createSuper(ReviewList);function ReviewList(props){var _this;_classCallCheck(this,ReviewList);_this=_super.call(this,props);_this.onClick=_this.onClick.bind(_assertThisInitialized(_this));_this.state={reviewsObj:recoveryReviewsFromLocalStorage()};return _this;}_createClass(ReviewList,[{key:\"onClick\",value:function(){var _onClick=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(reviewData){var _this2=this;var currentReviews,comparatorLengthNumber,nextId,_nextId;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:currentReviews=recoveryReviewsFromLocalStorage();comparatorLengthNumber=0;if(currentReviews.length!==comparatorLengthNumber){nextId=currentReviews[currentReviews.length-1].id+1;reviewData.id=nextId;}else{_nextId=1;reviewData.id=_nextId;}this.setState(function(previousState){return{reviewsObj:[].concat(_toConsumableArray(previousState.reviewsObj),[reviewData])};},function(){var reviewsObj=_this2.state.reviewsObj;addReviewInLocalStorage(reviewsObj);});// const oldList = recoveryReviewsFromLocalStorage();\n// this.setState({\n//   reviewsObj: oldList,\n// })\n// console.log(oldList);\n// console.log(currentReviews);\n// console.log(nextId);\n// const newReview = { ...reviewData, id: nextId };\n// console.log(newReview)\n// this.setState((previousState) => ({\n//   reviewsObj: [...previousState.reviewsObj, reviewData],\n// }, () => {\n//   addReviewInLocalStorage(this.state.reviewsObj);\n//   // console.log(recoveryReviewsFromLocalStorage());\n//   const newReviewsList = this.state.reviewsObj;\n//   // console.log(newReviewsList);\n// }));\n// const newReviewsList = this.state.reviewsObj\n// console.log(newReviewsList);\n// addReviewInLocalStorage(newReviewList);\ncase 4:case\"end\":return _context.stop();}}},_callee,this);}));function onClick(_x){return _onClick.apply(this,arguments);}return onClick;}()},{key:\"render\",value:function render(){// const { reviewsObj } = this.state;\nvar localStorageList=recoveryReviewsFromLocalStorage();return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(ReviewForm,{onClick:this.onClick}),/*#__PURE__*/React.createElement(\"div\",null,localStorageList.map(function(_ref){var email=_ref.email,rating=_ref.rating,comments=_ref.comments,id=_ref.id;return/*#__PURE__*/React.createElement(\"div\",{key:id},/*#__PURE__*/React.createElement(\"span\",null,email),/*#__PURE__*/React.createElement(\"span\",null,rating),/*#__PURE__*/React.createElement(\"p\",null,comments));})));}}]);return ReviewList;}(Component);export default ReviewList;","map":{"version":3,"sources":["/home/denner/Documentos/WebDevelopment/trybe-projects/project-frontend-online-store/sd-07-project-frontend-online-store/src/components/ReviewList.js"],"names":["React","Component","ReviewForm","addReviewInLocalStorage","recoveryReviewsFromLocalStorage","ReviewList","props","onClick","bind","state","reviewsObj","reviewData","currentReviews","comparatorLengthNumber","length","nextId","id","setState","previousState","localStorageList","map","email","rating","comments"],"mappings":"q3DAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAOC,CAAAA,UAAP,KAAuB,cAAvB,CACA;AACA,OACEC,uBADF,CAEEC,+BAFF,KAGO,8BAHP,C,GAKMC,CAAAA,U,wGACJ,oBAAYC,KAAZ,CAAmB,4CACjB,uBAAMA,KAAN,EAEA,MAAKC,OAAL,CAAe,MAAKA,OAAL,CAAaC,IAAb,+BAAf,CAEA,MAAKC,KAAL,CAAa,CACXC,UAAU,CAAEN,+BAA+B,EADhC,CAAb,CALiB,aAQlB,C,+IAEaO,U,2LACNC,c,CAAiBR,+BAA+B,E,CAChDS,sB,CAAyB,C,CAC/B,GAAID,cAAc,CAACE,MAAf,GAA0BD,sBAA9B,CAAsD,CAC9CE,MAD8C,CACrCH,cAAc,CAACA,cAAc,CAACE,MAAf,CAAwB,CAAzB,CAAd,CAA0CE,EAA1C,CAA+C,CADV,CAEpDL,UAAU,CAACK,EAAX,CAAgBD,MAAhB,CACD,CAHD,IAGO,CACCA,OADD,CACU,CADV,CAELJ,UAAU,CAACK,EAAX,CAAgBD,OAAhB,CACD,CACD,KAAKE,QAAL,CAAc,SAACC,aAAD,QAAoB,CAChCR,UAAU,8BAAMQ,aAAa,CAACR,UAApB,GAAgCC,UAAhC,EADsB,CAApB,EAAd,CAEI,UAAM,IACAD,CAAAA,UADA,CACe,MAAI,CAACD,KADpB,CACAC,UADA,CAERP,uBAAuB,CAACO,UAAD,CAAvB,CACD,CALD,EAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;mLAGO,CACP;AACA,GAAMS,CAAAA,gBAAgB,CAAGf,+BAA+B,EAAxD,CAEA,mBACE,4CACE,oBAAC,UAAD,EAAY,OAAO,CAAG,KAAKG,OAA3B,EADF,cAEE,+BACGY,gBAAgB,CAACC,GAAjB,CAAqB,kBAAGC,CAAAA,KAAH,MAAGA,KAAH,CAAUC,MAAV,MAAUA,MAAV,CAAkBC,QAAlB,MAAkBA,QAAlB,CAA4BP,EAA5B,MAA4BA,EAA5B,oBACpB,2BAAK,GAAG,CAAGA,EAAX,eACE,gCAAOK,KAAP,CADF,cAEE,gCAAOC,MAAP,CAFF,cAGE,6BAAIC,QAAJ,CAHF,CADoB,EAArB,CADH,CAFF,CADF,CAaD,C,wBAlEsBtB,S,EAqEzB,cAAeI,CAAAA,UAAf","sourcesContent":["import React, { Component } from 'react';\nimport ReviewForm from './ReviewForm';\n// import reviews from '../services/reviews';\nimport {\n  addReviewInLocalStorage,\n  recoveryReviewsFromLocalStorage,\n} from '../services/reviewsFunctions';\n\nclass ReviewList extends Component {\n  constructor(props) {\n    super(props);\n\n    this.onClick = this.onClick.bind(this);\n\n    this.state = {\n      reviewsObj: recoveryReviewsFromLocalStorage(),\n    };\n  }\n\n  async onClick(reviewData) {\n    const currentReviews = recoveryReviewsFromLocalStorage();\n    const comparatorLengthNumber = 0;\n    if (currentReviews.length !== comparatorLengthNumber) {\n      const nextId = currentReviews[currentReviews.length - 1].id + 1;\n      reviewData.id = nextId;\n    } else {\n      const nextId = 1;\n      reviewData.id = nextId;\n    }\n    this.setState((previousState) => ({\n      reviewsObj: [...previousState.reviewsObj, reviewData],\n    }), () => {\n      const { reviewsObj } = this.state;\n      addReviewInLocalStorage(reviewsObj);\n    });\n    // const oldList = recoveryReviewsFromLocalStorage();\n    // this.setState({\n    //   reviewsObj: oldList,\n    // })\n    // console.log(oldList);\n    // console.log(currentReviews);\n    // console.log(nextId);\n    // const newReview = { ...reviewData, id: nextId };\n    // console.log(newReview)\n    // this.setState((previousState) => ({\n    //   reviewsObj: [...previousState.reviewsObj, reviewData],\n    // }, () => {\n    //   addReviewInLocalStorage(this.state.reviewsObj);\n    //   // console.log(recoveryReviewsFromLocalStorage());\n    //   const newReviewsList = this.state.reviewsObj;\n    //   // console.log(newReviewsList);\n    // }));\n    // const newReviewsList = this.state.reviewsObj\n    // console.log(newReviewsList);\n    // addReviewInLocalStorage(newReviewList);\n  }\n\n  render() {\n    // const { reviewsObj } = this.state;\n    const localStorageList = recoveryReviewsFromLocalStorage();\n\n    return (\n      <div>\n        <ReviewForm onClick={ this.onClick } />\n        <div>\n          {localStorageList.map(({ email, rating, comments, id }) => (\n            <div key={ id }>\n              <span>{email}</span>\n              <span>{rating}</span>\n              <p>{comments}</p>\n            </div>))}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default ReviewList;\n"]},"metadata":{},"sourceType":"module"}