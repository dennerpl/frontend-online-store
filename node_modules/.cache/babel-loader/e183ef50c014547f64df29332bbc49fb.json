{"ast":null,"code":"var _jsxFileName = \"/home/denner/Documentos/WebDevelopment/trybe-projects/project-frontend-online-store/sd-07-project-frontend-online-store/src/components/ReviewList.js\";\nimport React, { Component } from 'react';\nimport ReviewForm from '../components/ReviewForm';\nimport reviews from '../services/reviews';\nimport { addReviewInLocalStorage, recoveryReviewsFromLocalStorage } from '../services/reviewsFunctions';\n\nclass ReviewList extends Component {\n  constructor(props) {\n    super(props);\n    this.onClick = this.onClick.bind(this);\n    this.state = {\n      reviewsObj: []\n    };\n  }\n\n  componentDidMount() {\n    const oldList = recoveryReviewsFromLocalStorage();\n    this.setState({\n      reviewsObj: oldList\n    });\n  }\n\n  async onClick(reviewData) {\n    // const oldList = recoveryReviewsFromLocalStorage();\n    // this.setState({\n    //   reviewsObj: oldList,\n    // })\n    // console.log(oldList);    \n    const currentReviews = this.state.reviewsObj; // console.log(currentReviews);\n\n    if (currentReviews.length !== 0) {\n      const nextId = currentReviews[currentReviews.length - 1].id + 1;\n      reviewData.id = nextId;\n    } else {\n      const nextId = 1;\n      reviewData.id = nextId;\n    }\n\n    console.log(reviewData); // console.log(nextId);\n    // const newReview = { ...reviewData, id: nextId };   \n    // console.log(newReview) \n\n    this.setState(previousState => (({\n      reviewsObj: [reviewData]\n    }), () => {\n      addReviewInLocalStorage(this.state.reviewsObj); // console.log(recoveryReviewsFromLocalStorage());\n\n      const newReviewsList = this.state.reviewsObj; // console.log(newReviewsList);\n    })); // const newReviewsList = this.state.reviewsObj\n    // console.log(newReviewsList);\n    // addReviewInLocalStorage(newReviewList);    \n  }\n\n  render() {\n    const {\n      reviewsObj\n    } = this.state;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(ReviewForm, {\n      onClick: this.onClick,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }\n    }, reviewsObj.map(({\n      email,\n      rating,\n      comments,\n      id\n    }) => /*#__PURE__*/React.createElement(\"div\", {\n      key: id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 15\n      }\n    }, email), /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 15\n      }\n    }, rating), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 15\n      }\n    }, comments)))));\n  }\n\n}\n\nexport default ReviewList;","map":{"version":3,"sources":["/home/denner/Documentos/WebDevelopment/trybe-projects/project-frontend-online-store/sd-07-project-frontend-online-store/src/components/ReviewList.js"],"names":["React","Component","ReviewForm","reviews","addReviewInLocalStorage","recoveryReviewsFromLocalStorage","ReviewList","constructor","props","onClick","bind","state","reviewsObj","componentDidMount","oldList","setState","reviewData","currentReviews","length","nextId","id","console","log","previousState","newReviewsList","render","map","email","rating","comments"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,UAAP,MAAuB,0BAAvB;AACA,OAAOC,OAAP,MAAoB,qBAApB;AACA,SACEC,uBADF,EAEEC,+BAFF,QAGO,8BAHP;;AAKA,MAAMC,UAAN,SAAyBL,SAAzB,CAAmC;AACjCM,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;AAEA,SAAKC,OAAL,GAAe,KAAKA,OAAL,CAAaC,IAAb,CAAkB,IAAlB,CAAf;AAEA,SAAKC,KAAL,GAAa;AACXC,MAAAA,UAAU,EAAE;AADD,KAAb;AAGD;;AAEDC,EAAAA,iBAAiB,GAAG;AAClB,UAAMC,OAAO,GAAGT,+BAA+B,EAA/C;AACA,SAAKU,QAAL,CAAc;AACZH,MAAAA,UAAU,EAAEE;AADA,KAAd;AAGD;;AAED,QAAML,OAAN,CAAcO,UAAd,EAA0B;AACxB;AACA;AACA;AACA;AACA;AACA,UAAMC,cAAc,GAAG,KAAKN,KAAL,CAAWC,UAAlC,CANwB,CAOxB;;AACA,QAAIK,cAAc,CAACC,MAAf,KAA0B,CAA9B,EAAiC;AAC/B,YAAMC,MAAM,GAAGF,cAAc,CAACA,cAAc,CAACC,MAAf,GAAwB,CAAzB,CAAd,CAA0CE,EAA1C,GAA+C,CAA9D;AACAJ,MAAAA,UAAU,CAACI,EAAX,GAAgBD,MAAhB;AACD,KAHD,MAGO;AACL,YAAMA,MAAM,GAAG,CAAf;AACAH,MAAAA,UAAU,CAACI,EAAX,GAAgBD,MAAhB;AACD;;AACDE,IAAAA,OAAO,CAACC,GAAR,CAAYN,UAAZ,EAfwB,CAgBxB;AACA;AACA;;AACA,SAAKD,QAAL,CAAeQ,aAAD,KAAoB;AAChCX,MAAAA,UAAU,EAAE,CAACI,UAAD;AADoB,QAE/B,MAAM;AACPZ,MAAAA,uBAAuB,CAAC,KAAKO,KAAL,CAAWC,UAAZ,CAAvB,CADO,CAEP;;AACA,YAAMY,cAAc,GAAG,KAAKb,KAAL,CAAWC,UAAlC,CAHO,CAIP;AACD,KAPa,CAAd,EAnBwB,CA2BxB;AACA;AACA;AACD;;AAEDa,EAAAA,MAAM,GAAG;AACP,UAAM;AAAEb,MAAAA;AAAF,QAAiB,KAAKD,KAA5B;AAEA,wBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,UAAD;AAAY,MAAA,OAAO,EAAE,KAAKF,OAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACGG,UAAU,CAACc,GAAX,CAAe,CAAC;AAACC,MAAAA,KAAD;AAAQC,MAAAA,MAAR;AAAgBC,MAAAA,QAAhB;AAA0BT,MAAAA;AAA1B,KAAD,kBACd;AAAK,MAAA,GAAG,EAAEA,EAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAOO,KAAP,CADF,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAOC,MAAP,CAFF,eAGE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAIC,QAAJ,CAHF,CADD,CADH,CAFF,CADF;AAcD;;AAnEgC;;AAsEnC,eAAevB,UAAf","sourcesContent":["import React, { Component } from 'react';\nimport ReviewForm from '../components/ReviewForm';\nimport reviews from '../services/reviews';\nimport {\n  addReviewInLocalStorage,\n  recoveryReviewsFromLocalStorage,\n} from '../services/reviewsFunctions';\n\nclass ReviewList extends Component {\n  constructor(props) {\n    super(props);\n\n    this.onClick = this.onClick.bind(this);\n\n    this.state = {\n      reviewsObj: [],\n    };\n  }\n\n  componentDidMount() {\n    const oldList = recoveryReviewsFromLocalStorage();\n    this.setState({\n      reviewsObj: oldList,\n    });\n  }\n\n  async onClick(reviewData) {\n    // const oldList = recoveryReviewsFromLocalStorage();\n    // this.setState({\n    //   reviewsObj: oldList,\n    // })\n    // console.log(oldList);    \n    const currentReviews = this.state.reviewsObj;\n    // console.log(currentReviews);\n    if (currentReviews.length !== 0) {\n      const nextId = currentReviews[currentReviews.length - 1].id + 1;\n      reviewData.id = nextId;\n    } else {\n      const nextId = 1;\n      reviewData.id = nextId;\n    }\n    console.log(reviewData);\n    // console.log(nextId);\n    // const newReview = { ...reviewData, id: nextId };   \n    // console.log(newReview) \n    this.setState((previousState) => ({\n      reviewsObj: [reviewData],\n    }, () => {\n      addReviewInLocalStorage(this.state.reviewsObj);\n      // console.log(recoveryReviewsFromLocalStorage());\n      const newReviewsList = this.state.reviewsObj;\n      // console.log(newReviewsList);\n    }));\n    // const newReviewsList = this.state.reviewsObj\n    // console.log(newReviewsList);\n    // addReviewInLocalStorage(newReviewList);    \n  }\n\n  render() {  \n    const { reviewsObj } = this.state;\n\n    return (      \n      <div>\n        <ReviewForm onClick={this.onClick} />\n        <div>\n          {reviewsObj.map(({email, rating, comments, id}) =>\n            <div key={id}>\n              <span>{email}</span>\n              <span>{rating}</span>\n              <p>{comments}</p>\n            </div>\n          )}\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default ReviewList;"]},"metadata":{},"sourceType":"module"}